<app-navbar />
<div *ngIf="tourDetails">

  <h1>{{ tourDetails.Tour_name }}</h1>
  <div class="star-review ">
    <i class="bi bi-star-fill"></i>
    <i class="bi bi-star-fill"></i>
    <i class="bi bi-star-fill"></i>
    <i class="bi bi-star-fill"></i>
    <i class="bi bi-star-fill"></i>
    <div class="review">
      <h5>Hot</h5>
    </div>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <img [src]="'assets/images/' + tourDetails.Tour_Picture" class="card-img-top" alt="Tour Image">
      </div>
      <div class="detail col-md-6">
        <p>ประเทศ: {{ tourDetails.Tour_Country }}</p>
        <p>เริ่มวันที่: {{ tourDetails.StartDate | date:'shortDate' }}</p>
        <p>สิ้นสุดวันที่: {{ tourDetails.EndDate | date:'shortDate' }}</p>
        <p>ระยะเวลา: {{ tourDetails.period }} วัน</p>
        <p>ราคาต่อคน: {{ tourDetails.Price_per_person }} บาท</p>
        <p>ที่พัก: {{ tourDetails.Hotel }}</p>
        <p class="total">จำนวนคนที่รองรับ: {{ tourDetails.total_seats }} คน</p>
        <p class="teevang">จำนวนที่ว่าง: {{ tourDetails.available_seats }} คน</p>

        <div class="row">
          <div class="col-md-5">
            <button class="btn btn-success" (click)="openModal()">จองเลย</button>
          </div>
          <div class="col-md-3">
            <button class="btn-back" routerLink="/home">Back</button>
          </div>
        </div>
      </div>
    </div>




  </div>

  <!--ปุ่มback เดวทำ-->

  <div *ngIf="isModalOpen" class="modal">
    <div class="modal-content">
      <h4>กรอกจำนวนคนจองทัวร์</h4>
      <input type="number" [(ngModel)]="numberParticipant" min="1" placeholder="จำนวนคน">
      <!-- <button (click)="createForms()">ยืนยัน</button> -->
      <button (click)="closeModal()">ยกเลิก</button>
      <button (click)="createForm(tourDetails)">ยืนยัน</button>
    </div>
  </div>
  <!-- form for participants -->
  <div class="bgnameParticipants">
    <div class="nameParticipants">
      <form *ngIf="showForms" (ngSubmit)="submitForms()">
        <div *ngFor="let participant of Participants; let i =index">
          <h5>ข้อมูลคนที่ {{i+1}}</h5>
          <input type="text" [(ngModel)]="participant.firstname" placeholder="ชื่อจริง" name="fistname{{i}}">
          <input type="text" [(ngModel)]="participant.lastname" placeholder="นามสกุล" name="lastname{{i}}">
          <input type="text" [(ngModel)]="participant.id_card" placeholder="บัตรประชาชน" name="id_card{{i}}">
          <input type="date" [(ngModel)]="participant.DateOfBirth" name="DateOfBirth{{i}}">
          <input type="email" [(ngModel)]="participant.email" placeholder="email@gmail.com" name="email{{i}}">
          <input type="tel" [(ngModel)]="participant.phone" placeholder="0847741146" name="tel{{i}}">
          <textarea [(ngModel)]="participant.special_request" placeholder="เขียนคำขอพิเศษ" row="5" cols="50" maxlength="100"
            name="special_request{{i}}"></textarea>

        </div>
        <button type="submit">ส่งข้อมูลการจอง</button>
      </form>
    </div>

  </div>